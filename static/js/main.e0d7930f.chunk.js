(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{136:function(e){e.exports=JSON.parse('{"apiEndpoint":"https://blog-884c7-default-rtdb.europe-west1.firebasedatabase.app/","isFirebase":true}')},245:function(e,t,n){},370:function(e,t,n){},396:function(e,t,n){},398:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),i=n.n(c),o=(n(245),n(25)),s=n(8),l=n(30),u=n(16),d=n.n(u),j=n(24),b=n(122),m=n.n(b),p=n(39),f="jwt-token",h="jwt-refresh-token",x="jwt-expires",O="user-local-id",g="user-stay-on",v="email-user";function k(){return localStorage.getItem(h)}function w(){return localStorage.getItem(x)}function y(){return localStorage.getItem(g)}function A(){localStorage.removeItem(O),localStorage.removeItem(f),localStorage.removeItem(h),localStorage.removeItem(x),localStorage.removeItem(g),localStorage.removeItem(v)}function S(e){console.log("Run checkLogin");var t=w(),n=k(),r=y();t&&n&&"false"!==r?(console.log("CheckLogin val1"),e(!0)):n&&Number(t)>Date.now()?(console.log("CheckLogin val2",Number(t),Date.now()),e(!0)):(console.log("CheckLogin val4"),console.log("set false"),e(!1),A())}var C={setTokens:function(e,t){var n=e.refreshToken,r=e.idToken,a=e.localId,c=e.email,i=e.stayOn,o=void 0!==i&&i,s=e.expiresIn,l=void 0===s?3600:s,u=(new Date).getTime()+1e3*l;localStorage.setItem(O,a),localStorage.setItem(f,r),localStorage.setItem(h,n),localStorage.setItem(x,u),localStorage.setItem(g,o),localStorage.setItem(v,c),t&&S(t)},getAccessToken:function(){return localStorage.getItem(f)},getRefreshToken:k,getExpiresToken:w,getUserId:function(){return localStorage.getItem(O)},getStayOn:y,removeAuthData:A,checkLogin:S,getEmailUser:function(){return localStorage.getItem(v)}},N=n(1),I=m.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1/",params:{key:"AIzaSyDhswkci1mDZtsaKYnLSC4WNqR9H1kVXoc"}}),D=a.a.createContext(),E=function(){return Object(r.useContext)(D)},T=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(s.a)(n,2),c=a[0],i=a[1],l=Object(r.useState)(!1),u=Object(s.a)(l,2),b=u[0],m=u[1],f=Object(r.useState)(C.getEmailUser()||null),h=Object(s.a)(f,2),x=h[0],O=h[1],g=Object(o.g)(),v=Object(o.f)();function k(){return(k=Object(j.a)(d.a.mark((function e(t){var n,r,a,c,i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.prev=1,e.next=4,I.post("accounts:signUp",{email:n,password:r,returnSecureToken:!0});case 4:a=e.sent,c=a.data,console.log(c),v.push("/auth/login"),e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(1),y(e.t0),i=e.t0.response.data.error,o=i.code,s=i.message,400!==o){e.next=18;break}if("EMAIL_EXISTS"!==s){e.next=18;break}throw console.log("!!!:",s),new Error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");case 18:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function w(){return(w=Object(j.a)(d.a.mark((function e(t){var n,r,a,c,i,o,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=t.stayOn,e.prev=1,e.next=4,I.post("accounts:signInWithPassword",{email:n,password:r,returnSecureToken:!0});case 4:c=e.sent,(i=c.data).stayOn=a,console.log(i),C.setTokens(i,m),O(C.getEmailUser()),v.push("/"),e.next=25;break;case 13:if(e.prev=13,e.t0=e.catch(1),y(e.t0),o=e.t0.response.data.error,s=o.code,l=o.message,400!==s){e.next=25;break}console.log(l),e.t1=l,e.next="INVALID_PASSWORD"===e.t1?22:"EMAIL_NOT_FOUND"===e.t1?23:24;break;case 22:throw new Error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 Email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!");case 23:throw new Error("\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 Email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!");case 24:throw new Error("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0432\u0445\u043e\u0434\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0434\u043d\u0435\u0435!");case 25:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function y(e){var t=e.response.data.message;i(t)}return Object(r.useEffect)((function(){var e=g.pathname||"";"/articles"!==e&&"/admin"!==e||C.checkLogin(m)}),[g.pathname]),Object(r.useEffect)((function(){C.checkLogin(m)}),[]),Object(r.useEffect)((function(){null!==c&&(Object(p.b)(c),i(null))}),[c]),Object(N.jsx)(D.Provider,{value:{signUp:function(e){return k.apply(this,arguments)},signIn:function(e){return w.apply(this,arguments)},isAuth:b,setAuth:m,logout:function(){m(!1),C.removeAuthData(),O(null),v.push(g.pathname)},currentUser:x},children:t})},F=n(457),B=n(459),R=n(460),L=n(483),U=n(492),W=n(466),q=n(467),z=n(208),V=n.n(z),K=n(455),M=n(456),Q=n(152),P=n.n(Q),_=n(209),H=n.n(_),G=Object(K.a)((function(e){return{rootNav:{width:"100%"},menuButton:{flexGrow:0},menuList:{"& a.active":{fontWeight:"bold",textDecoration:"underline"},display:"flex",flexGrow:1},title:{flexGrow:1},userInfoBlock:{display:"flex",flexDirection:"column",alignItems:"center"},userInfo:{fontStyle:"italic"}}})),J=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],c=E(),i=c.isAuth,u=c.logout,d=c.currentUser;console.log(d);var j=G(),b=Object(o.f)(),m=Object(M.a)("(max-width:768px)"),p=Boolean(n),f=function(e){b.push(e),a(null)};return Object(N.jsx)(F.a,{position:"static",className:j.rootNav,children:Object(N.jsxs)(B.a,{children:[Object(N.jsx)(R.a,{variant:"h6",className:j.title,children:"\u0411\u043b\u043e\u0433Frontend"}),Object(N.jsxs)(L.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:function(){return a(null)},children:[Object(N.jsx)(U.a,{onClick:function(){return f("/")},children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(N.jsx)(U.a,{onClick:function(){return f("/articles")},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u0442\u0435\u0439"}),Object(N.jsx)(U.a,{onClick:function(){return f("/admin")},children:"Root\u0414\u043e\u0441\u0442\u0443\u043f"}),i?Object(N.jsxs)(U.a,{onClick:u,children:[Object(N.jsx)(P.a,{fontSize:"inherit"})," \u0412\u044b\u0445\u043e\u0434"]}):Object(N.jsxs)("div",{children:[Object(N.jsx)(U.a,{onClick:function(){return f("/auth/login")},children:"\u0412\u0445\u043e\u0434"}),Object(N.jsx)(U.a,{onClick:function(){return f("/auth/register")},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]}),m?Object(N.jsx)(W.a,{edge:"start",className:j.menuButton,color:"inherit","area-label":"menu",onClick:function(e){a(e.currentTarget)},children:Object(N.jsx)(V.a,{})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:j.menuList,children:[Object(N.jsx)(U.a,{exact:!0,to:"/",component:l.b,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(N.jsx)(U.a,{to:"/articles",component:l.b,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u0442\u0435\u0439"}),Object(N.jsx)(U.a,{to:"/admin",component:l.b,children:"Root\u0414\u043e\u0441\u0442\u0443\u043f"})]}),i?Object(N.jsxs)("div",{className:j.userInfoBlock,children:[Object(N.jsx)("div",{className:j.userInfo,children:d}),Object(N.jsxs)(q.a,{size:"small",color:"inherit",onClick:u,children:[Object(N.jsx)(P.a,{fontSize:"inherit"})," \u0412\u044b\u0445\u043e\u0434"]})]}):Object(N.jsxs)(q.a,{color:"inherit",onClick:function(){return f("/auth/login")},children:[Object(N.jsx)(H.a,{fontSize:"inherit"}),"Login"]})]})]})})},Y=n(5),X=n(33),Z=n(18),$=n(71),ee=n(496),te=n(490),ne=n(493),re=n(497),ae=n(499),ce=n(482),ie=n(470),oe=n(471),se=n(489),le=Object(K.a)((function(e){return{root:{marginBottom:e.spacing(1)},errText:{color:"#eb4242"}}})),ue=function(e){var t=e.label,n=e.type,a=e.name,c=e.value,i=e.onChange,o=e.error,l=Object($.a)(e,["label","type","name","value","onChange","error"]),u=Object(r.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=d[1],m=le(),p=function(e){var t=e.target;i({name:t.name,value:t.value})};return Object(N.jsx)(N.Fragment,{children:"password"===n?Object(N.jsxs)(ee.a,{sx:{m:1,width:"25ch"},variant:"outlined",children:[Object(N.jsx)(te.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(N.jsx)(ne.a,{error:!!o,id:a,className:m.root,type:j?"text":n,name:a,value:c,onChange:p,endAdornment:Object(N.jsx)(re.a,{position:"end",children:Object(N.jsx)(ae.a,{"aria-label":"toggle password visibility",onClick:function(){b((function(e){return!e}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:j?Object(N.jsx)(ie.a,{}):Object(N.jsx)(oe.a,{})})}),label:"Password"}),Object(N.jsx)(se.a,{className:m.errText,children:o})]}):Object(N.jsx)(ce.a,Object(Z.a)({label:t,error:!!o,type:j?"text":n,id:a,className:m.root,name:a,value:c,onChange:p,helperText:o},l))})},de=n(486),je=function(e){var t=e.name,n=e.value,r=e.onChange,a=e.children,c=e.error,i=Object($.a)(e,["name","value","onChange","children","error"]);return Object(N.jsxs)("div",{className:"form-check",children:[Object(N.jsx)(de.a,Object(Z.a)({type:"checkbox",value:"",onChange:function(){r({name:t,value:!n})},id:t,checked:n},i)),Object(N.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:a}),c&&Object(N.jsx)("div",{className:"invalid-feedback",children:c})]})},be=function(e,t){console.log(t),e((function(e){return Object(Z.a)(Object(Z.a)({},e),{},Object(Y.a)({},t.name,t.value))}))},me=function(e){if("Tab"===e.code){e.preventDefault();var t=e.target.form,n=Array.prototype.indexOf.call(t,e.target);t.elements[n+1].focus()}},pe=n(494),fe=n(498),he=Object(K.a)((function(e){return{root:{"& > :not(style)":{m:"auto",width:"100%"},display:"flex",flexDirection:"column"},divActions:{width:"100%",display:"flex",justifyContent:"space-evenly",marginTop:e.spacing(2),marginBottom:e.spacing(2)},enterCls:{color:"red"}}})),xe=function(e){var t=e.handleSubmit,n=e.isValid,r=e.enterErrors,a=e.children,c=Object(o.f)(),i=he();return console.log("Enter errors: ",r),Object(N.jsxs)("form",{component:"form",className:i.root,noValidate:!0,autoComplete:"off",onSubmit:t,children:[a,Object(N.jsxs)("div",{className:i.divActions,children:[Object(N.jsx)(pe.a,{type:"submit",disabled:!n||!!r,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438"}),r&&Object(N.jsx)(fe.a,{className:i.enterCls,variant:"body2",gutterBottom:!0,children:r}),Object(N.jsx)(pe.a,{variant:"outlined",onClick:function(){c.push("/")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})},Oe=(n(370),function(e){return Object(N.jsxs)("div",{className:"lds-roller",children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]})}),ge=function(){var e=Object(r.useState)({email:"",password:"",stayOn:!1}),t=Object(s.a)(e,2),n=t[0],a=t[1],c=E().signIn,i=Object(r.useState)({}),o=Object(s.a)(i,2),l=o[0],u=o[1],b=Object(r.useState)(null),m=Object(s.a)(b,2),p=m[0],f=m[1],h=Object(r.useState)(!1),x=Object(s.a)(h,2),O=x[0],g=x[1],v=X.a().shape({password:X.c().required("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),email:X.c().required("Email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").email("Email \u0432\u0432\u0435\u0434\u0451\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e")}),k=function(){return v.validate(n).then((function(){return u({})})).catch((function(e){return u(Object(Y.a)({},e.path,e.message))})),0===Object.keys(l).length},w=0===Object.keys(l).length;Object(r.useEffect)((function(){f(null),k()}),[n]);var y=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),t.preventDefault(),k()){e.next=5;break}return e.abrupt("return");case 5:return console.log(n),e.prev=6,g(!1),e.next=10,c(n);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(6),g(!1),u({}),f(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:O?Object(N.jsx)("div",{className:"loader-container",children:Object(N.jsx)(Oe,{})}):Object(N.jsxs)(xe,{handleSubmit:y,isValid:w,enterErrors:p,children:[Object(N.jsx)(ue,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:n.email,onChange:function(e){return be(a,e)},error:l.email,autoFocus:!0,onKeyDown:function(e){return me(e)}}),Object(N.jsx)(ue,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:n.password,onChange:function(e){return be(a,e)},error:l.password,className:"input-auth-form",onKeyDown:function(e){return me(e)}}),Object(N.jsx)(je,{value:n.stayOn,onChange:function(e){return be(a,e)},name:"stayOn",onKeyDown:function(e){return me(e)},children:"\u041e\u0441\u0442\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"})]})})},ve=function(){var e=Object(r.useState)({email:"",password:"",confirmpassword:""}),t=Object(s.a)(e,2),n=t[0],a=t[1],c=E().signUp,i=Object(r.useState)({}),o=Object(s.a)(i,2),l=o[0],u=o[1],b=Object(r.useState)(null),m=Object(s.a)(b,2),p=m[0],f=m[1],h=Object(r.useState)(!1),x=Object(s.a)(h,2),O=x[0],g=x[1],v=X.a().shape({password:X.c().required("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").matches(/(?=.*[A-Z])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b 1 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443").matches(/(?=.*[0-9])/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f\u0431\u044b 1 \u0447\u0438\u0441\u043b\u043e").matches(/(?=.{8,})/,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),email:X.c().required("Email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").email("Email \u0432\u0432\u0435\u0434\u0451\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e")}),k=X.a().shape({confirmpassword:X.c().oneOf([X.b("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")}),w=function(){return v.validate(n).then((function(){return u({})})).catch((function(e){return u(Object(Y.a)({},e.path,e.message))})),k.validate(n).then((function(){return u({})})).catch((function(e){return u(Object(Y.a)({},e.path,e.message))})),0===Object.keys(l).length},y=0===Object.keys(l).length;Object(r.useEffect)((function(){f(null),w()}),[n]);var A=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),t.preventDefault(),w()){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,g(!1),e.next=9,c(n);case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(5),g(!1),u({}),f(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:O?Object(N.jsx)("div",{className:"loader-container",children:Object(N.jsx)(Oe,{})}):Object(N.jsxs)(xe,{handleSubmit:A,isValid:y,enterErrors:p,children:[Object(N.jsx)(ue,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:n.email,onChange:function(e){return be(a,e)},error:l.email,className:"input-auth-form",autoFocus:!0,onKeyDown:function(e){return me(e)}}),Object(N.jsx)(ue,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:n.password,onChange:function(e){return be(a,e)},error:l.password,className:"input-auth-form",onKeyDown:function(e){return me(e)}}),Object(N.jsx)(ue,{label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"confirmpassword",value:n.confirmpassword,onChange:function(e){return be(a,e)},error:l.confirmpassword,className:"input-auth-form",onKeyDown:function(e){return me(e)}})]})})},ke=function(e){var t=e.children;return Object(N.jsx)("div",{style:{textAlign:"center",marginTop:10,marginBottom:15,color:"black"},children:Object(N.jsx)("h3",{children:t})})},we=n(484),ye=Object(K.a)((function(e){return{authBlock:{border:"2px solid #0012ff",borderRadius:"3px",padding:"10px 40px 40px 40px",margin:"20px auto",maxWidth:"550px"},linkAuth:{textDecoration:"none",color:"#0012ff"}}})),Ae=function(){var e=Object(o.h)().type,t=ye();return Object(N.jsx)(we.a,{className:t.authBlock,children:"register"===e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ke,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(N.jsx)(ve,{}),Object(N.jsx)(we.a,{sx:{textAlign:"center"},children:Object(N.jsx)(l.b,{to:"/auth/login",className:t.linkAuth,children:"\u0415\u0441\u0442\u044c \u043b\u043e\u0433\u0438\u043d?"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ke,{children:"\u0412\u0445\u043e\u0434"}),Object(N.jsx)(ge,{}),Object(N.jsx)(we.a,{sx:{textAlign:"center"},children:Object(N.jsx)(l.b,{to:"/auth/register",className:t.linkAuth,children:"\u041d\u0435\u0442 \u043b\u043e\u0433\u0438\u043d\u0430?"})})]})})},Se=n(501),Ce=n(502),Ne=n(503),Ie=Object(K.a)((function(e){return{sortHeader:{cursor:"pointer",transition:"all .2s ease-in-out","&:hover":{transition:"all .2s ease-in",transform:"scale(1.015)"}}}})),De=function(e){var t=e.onSort,n=e.selectedSort,r=e.columns,a=Ie();return Object(N.jsx)(Se.a,{children:Object(N.jsx)(Ce.a,{children:Object.keys(r).map((function(e){return Object(N.jsxs)(Ne.a,{onClick:r[e].path?function(){return a=r[e].path,void(n.path===a?t(Object(Z.a)(Object(Z.a)({},n),{},{order:"asc"===n.order?"desc":"asc"})):t({path:a,order:"asc"}));var a}:void 0,className:r[e].path&&a.sortHeader,children:[r[e].path===n.path&&"desc"===n.order&&Object(N.jsx)("div",{children:Object(N.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAQUlEQVQ4y2NgGAWDGdQDIUnK/wNhPSnKfwMhkVogysOBkCgtMOUgQIQWiPIwOD+MkJZ6FOUwLXjt0CJCZBQMAgAAPCQdv/lpbCcAAAAASUVORK5CYII=",alt:""})}),r[e].path===n.path&&"asc"===n.order&&Object(N.jsx)("div",{children:Object(N.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAARUlEQVQ4y2NgGAWDEWgRIYIE6hl+M4ShiIQBRerxafiPogWk/D8+DTAt4WB2OGHlyFqIVI7QQrRymBYSlEO01I+mscEMAFgWHb8VkC3OAAAAAElFTkSuQmCC",alt:""})}),r[e].name]},e)}))})})},Ee=n(504),Te=n(481),Fe=n(130),Be=n.n(Fe),Re=n(213),Le=n.n(Re),Ue=Object(K.a)((function(e){return{tdStyle:{cursor:"pointer",transform:"scaleX(1)","&:hover":{transition:"all .4s ease-in-out",transform:"scaleX(1.05)"}}}})),We=function(e){var t=e.data,n=e.columns,r=e.onDelete,a=e.onEdit,c=Ue();return Object(N.jsx)(Ee.a,{children:t.map((function(e){return Object(N.jsx)(Ce.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:Object.keys(n).map((function(t,n){return"edit"===t?Object(N.jsx)(Ne.a,{className:c.tdStyle,onClick:function(){return a(e.id)},children:Object(N.jsx)(Te.a,{title:"Edit",children:Object(N.jsx)(ae.a,{children:Object(N.jsx)(Le.a,{})})})},n):"delete"===t?Object(N.jsx)(Ne.a,{onClick:function(){return r(e.id)},children:Object(N.jsx)(Te.a,{title:"Delete",children:Object(N.jsx)(ae.a,{children:Object(N.jsx)(Be.a,{})})})},n):Object(N.jsx)(Ne.a,{children:e[t]},n)}))},e.id)}))})},qe=n(506),ze=n(500),Ve=n(507),Ke=n(216),Me=n.n(Ke),Qe=n(19),Pe=n(35),_e=n(136),He=m.a.create({baseURL:_e.apiEndpoint});He.interceptors.request.use(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_e.isFirebase){e.next=13;break}if(n=/\/$/gi.test(t.url),t.url=(n?t.url.slice(0,-1):t.url)+".json",r=C.getExpiresToken(),!((a=C.getRefreshToken())&&r<Date.now())){e.next=11;break}return e.next=8,I.post("token",{grant_type:"refresh_token",refresh_token:a});case 8:c=e.sent,i=c.data,C.setTokens({refreshToken:i.refresh_token,idToken:i.id_token,expiresIn:i.expires_in,localId:i.user_id});case 11:(o=C.getAccessToken())&&(t.params=Object(Z.a)(Object(Z.a)({},t.params),{},{auth:o}));case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),He.interceptors.response.use((function(e){var t;return _e.isFirebase&&(e.data={content:(t=e.data,t&&!t.id?Object.keys(t).map((function(e){return Object(Z.a)({},t[e])})):t)}),e}),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),p.b.error("Something was wrong. Try it later.")),Promise.reject(e)}));var Ge={get:He.get,post:He.post,put:He.put,delete:He.delete},Je={get:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.get("articles/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Ye=Object(Pe.c)({name:"articles",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null,currentArticle:null,isModal:!1},reducers:{articlesRequested:function(e){e.isLoading=!0},articlesReceived:function(e,t){e.entities=t.payload,e.lastFetch=Date.now(),e.isLoading=!1},articleCreated:function(e,t){e.entities.push(t.payload.content)},articleUpdated:function(e,t){e.entities=e.entities.map((function(e){return e.id===t.payload.content.id?t.payload.content:e}))},articleDeleted:function(e,t){e.entities=e.entities.filter((function(e){return e.id!==t.payload}))},articlesRequestFiled:function(e,t){e.error=t.payload,e.isLoading=!1},currentArticleReceived:function(e,t){e.currentArticle=e.entities.filter((function(e){return Number(e.id)===Number(t.payload)}))},currentArticleReseted:function(e){e.currentArticle=null},regPageRequested:function(e){e.isLoading=!1},moduleOpened:function(e){e.isModal=!0},moduleClosed:function(e){e.isModal=!1,e.currentArticle=null}}}),Xe=Ye.reducer,Ze=Ye.actions,$e=Ze.articlesRequested,et=Ze.articlesReceived,tt=Ze.articlesRequestFiled,nt=Ze.currentArticleReceived,rt=Ze.currentArticleReseted,at=Ze.articleCreated,ct=Ze.articleUpdated,it=Ze.regPageRequested,ot=Ze.moduleClosed,st=Ze.moduleOpened,lt=Ze.articleDeleted,ut=Object(Pe.b)("users/deleteArticleFailed"),dt=Object(Pe.b)("users/createArticleRequested"),jt=Object(Pe.b)("users/createArticleFailed"),bt=Object(Pe.b)("users/updateArticleRequested"),mt=Object(Pe.b)("users/updateArticleFailed");var pt=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().articles.lastFetch,i=r,!(Date.now()-i>6e4)){e.next=15;break}return t($e()),e.prev=3,e.next=6,Je.get();case 6:a=e.sent,c=a.content,t(et(c)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t(tt(e.t0.message)),Object(p.b)(e.t0.message);case 15:case"end":return e.stop()}var i}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},ft=function(){return function(e){e(rt())}},ht=function(){return function(e){e(it())}},xt=function(e){return function(t){t(nt(e))}},Ot=function(){return function(e){e(ot())}},gt=Xe,vt={date:{path:"date",name:"\u0414\u0430\u0442\u0430"},title:{path:"title",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"},edit:{path:"",name:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},delete:{path:"",name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}},kt=n(84),wt=n.n(kt),yt=n(485),At=n(505),St=Object(K.a)((function(e){return{customFileUpload:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:e.spacing(4),border:"1px solid #ccc",padding:"10px 12px"},imgBlock:{maxWidth:"300px",maxHeight:"150px",overflow:"hidden",marginBottom:e.spacing(1)},img:{maxWidth:"100%"},file:{opacity:"0",width:"0.1px",height:"0.1px",position:"absolute"},fileInput:{display:"flex",justifyContent:"center",alignItems:"center"},fileInputLabel:{position:"relative",width:"190px",height:"50px",borderRadius:"10px",background:"#ccc",border:"1px solid rgb(63, 62, 62)",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"15px",fontFamily:"inherit",cursor:"pointer",transition:"transform .2s ease-out",marginRight:"10px","&:hover":{transition:"all .2s ease-out",boxShadow:"0 4px 7px rgba(0, 0, 0, 0.4)"}}}})),Ct=function(e){var t=e.article,n=e.fileUploadInputChange,r=e.uploadName,a=e.dataUri,c=St();return Object(N.jsxs)("div",{className:c.customFileUpload,children:[(null===t||void 0===t?void 0:t.img)&&!a?Object(N.jsx)("div",{className:c.imgBlock,children:Object(N.jsx)("img",{src:t.img,alt:"",className:c.img})}):Object(N.jsx)("div",{className:c.imgBlock,children:Object(N.jsx)("img",{src:a,alt:"",className:c.img})}),Object(N.jsxs)("div",{className:c.fileInput,children:[Object(N.jsx)("input",{type:"file",id:"file",className:c.file,onChange:function(e){return n(e)}}),Object(N.jsx)("label",{htmlFor:"file",className:c.fileInputLabel,children:"Select file"}),Object(N.jsx)("p",{children:r})]})]})},Nt=n(215),It=n.n(Nt),Dt=n(214),Et=n.n(Dt),Tt=(n(395),Object(K.a)((function(e){return{root:{"& > :not(style)":{m:"auto",width:"100%"},display:"flex",flexDirection:"column"},divActions:{display:"flex",justifyContent:"space-between",padding:"10px"},errArticle:{color:"#eb4242",textAlign:"center"},errText:{color:"#eb4242"}}}))),Ft=function(e){var t=e.article,n=e.onCloseModal,a=e.handleSnackbar,c=Object(r.useState)({title:t?t[0].title:"",id:t?t[0].id:Date.now()}),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(t?t[0].article:""),b=Object(s.a)(u,2),m=b[0],f=b[1],h=Tt(),x=Object(r.useState)((null===t||void 0===t?void 0:t.img)||""),O=Object(s.a)(x,2),g=O[0],v=O[1],k=Object(r.useState)({}),w=Object(s.a)(k,2),y=w[0],A=w[1],S=Object(r.useState)(""),C=Object(s.a)(S,2),I=C[0],D=C[1],E=Object(Qe.b)(),T=t;Object(r.useEffect)((function(){A((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{article:null})})),console.log(y),R()}),[m]);var F=function(e){27===e.keyCode&&n()};Object(r.useEffect)((function(){return window.addEventListener("keydown",F),function(){window.removeEventListener("keydown",F)}}));var B=X.a().shape({title:X.c().required("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438")}),R=function(){return B.validate(o).then((function(){return A({})})).catch((function(e){return A(Object(Y.a)({},e.path,e.message))})),0===Object.keys(y).length},L=0===Object.keys(y).length;Object(r.useEffect)((function(){R()}),[o]);var U=function(e){if(e.preventDefault(),o.img=g,o.date=(new Date).toLocaleString(),o.article=m,console.log(m.length),m.length<=11)return A({article:"\u041d\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0441\u0442\u0430\u0442\u044c\u0438!"});E(null===T?function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(dt()),n.prev=1,n.next=4,Ge.put("articles/".concat(e.id),e);case 4:a=n.sent,c=a.data,r(ot()),r(at(c)),t(),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),r(jt(n.t0.message)),p.b.error(n.t0.message);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}(o,a):function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var a,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(bt()),n.prev=1,n.next=4,Ge.put("articles/".concat(e.id),e);case 4:a=n.sent,c=a.data,r(ot()),r(ct(c)),t(),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),r(mt(n.t0.message)),p.b.error(n.t0.message);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}(o,a))};return Object(N.jsxs)("form",{component:"form",className:h.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){return U(e)},children:[Object(N.jsx)(ue,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438:",name:"title",value:o.title,onChange:function(e){return be(l,e)},error:y.title,autoFocus:!0,placeholder:"\u041d\u043e\u0432\u0430\u044f...",onKeyDown:function(e){return me(e)}}),Object(N.jsx)(Et.a,{theme:"snow",value:m,onChange:f,style:{minHeight:"300px",border:"2px solid grey"}}),y.article&&Object(N.jsx)("p",{className:h.errArticle,children:y.article}),Object(N.jsx)(Ct,{article:t,fileUploadInputChange:function(e){D(e.target.value.split("\\")[2]);var t=new FileReader;t.onload=function(e){v(e.target.result)},t.readAsDataURL(e.target.files[0])},uploadName:I,dataUri:g}),Object(N.jsxs)("div",{className:h.divActions,children:[Object(N.jsx)(pe.a,{type:"submit",disabled:!L,variant:"contained",endIcon:Object(N.jsx)(It.a,{}),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(N.jsx)(pe.a,{variant:"outlined",type:"button",onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})},Bt={modalWindow:{position:"absolute",top:"49%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"650px",width:"100%",bgcolor:"rgb(190, 190, 190)",boxShadow:24,p:"10px 30px 30px 30px"},blockActions:{display:"flex",justifyContent:"space-between",width:"100%",marginTop:"30px"}},Rt=function(e){var t=e.handleSnackbar,n=Object(Qe.c)((function(e){return e.articles.currentArticle})),r=Object(Qe.b)(),a=Object(Qe.c)((function(e){return e.articles.isModal}));return Object(N.jsx)("div",{children:Object(N.jsx)(yt.a,{open:!!n||a,onClose:function(){return r(Ot())},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(N.jsxs)(At.a,{sx:Bt.modalWindow,component:"div",children:[Object(N.jsx)(ke,{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(N.jsx)(Ft,{article:n,onCloseModal:function(){return r(Ot())},handleSnackbar:t})]})})})},Lt=n(488),Ut=function(e){var t=e.searchArticle,n=e.setSearchArticle,r=e.articles,a=e.setFindArticleArr;return Object(N.jsx)(ue,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438:",name:"searchArticle",value:t,onChange:function(e){return function(e){n(e.value);var t=[];r.forEach((function(n){-1!==n.title.toLowerCase().indexOf(e.value.toLowerCase())&&t.push(n)})),a(t)}(e)},placeholder:"\u041f\u043e\u0438\u0441\u043a..."})},Wt=Object(K.a)((function(e){return{rootAdmin:{width:"inherit",marginBottom:e.spacing(4)},blockActions:{display:"flex",justifyContent:"space-between",margin:"10px auto 10px",width:"100%"},table:{width:"100%"}}})),qt=function(){var e=Wt(),t=Object(r.useState)({path:"date",order:"desc"}),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],b=Object(r.useState)(null),m=Object(s.a)(b,2),f=m[0],h=m[1],x=Object(r.useState)({open:!1,vertical:"bottom",horizontal:"left"}),O=Object(s.a)(x,2),g=O[0],v=O[1],k=Object(Qe.b)(),w=Object(Qe.c)((function(e){return e.articles.entities})),y=wt.a.orderBy(f||w,[a.path],[a.order]),A=function(){v(Object(Z.a)(Object(Z.a)({},g),{},{open:!I}))},S=g.vertical,C=g.horizontal,I=g.open;return Object(N.jsxs)("div",{className:e.rootAdmin,children:[Object(N.jsxs)("div",{className:e.blockActions,component:"div",children:[Object(N.jsx)(pe.a,{variant:"contained",endIcon:Object(N.jsx)(Me.a,{}),onClick:function(){return k((function(e){e(st())}))},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(N.jsx)(Ut,{searchArticle:l,setSearchArticle:u,articles:w,setFindArticleArr:h})]}),Object(N.jsx)(Rt,{handleSnackbar:A}),Object(N.jsx)(qe.a,{component:ze.a,children:Object(N.jsxs)(Ve.a,{className:e.table,"aria-label":"simple table",children:[Object(N.jsx)(De,{onSort:function(e){c(e)},selectedSort:a,columns:vt}),Object(N.jsx)(We,{columns:vt,data:y,onDelete:function(e){return k(function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ge.delete("articles/"+e);case 3:r(lt(e)),t(),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),ut(n.t0.message),p.b.error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(e,A))},onEdit:function(e){return k((t=e,function(e){e(st()),e(nt(t))}));var t}})]})}),Object(N.jsx)(Lt.a,{anchorOrigin:{vertical:S,horizontal:C},open:I,onClose:A,autoHideDuration:2500,message:"\u0413\u043e\u0442\u043e\u0432\u043e!"},S+C)]})},zt=n(475),Vt=n(476),Kt=n(477),Mt=n(478),Qt=n(479),Pt=n(131),_t=function(){var e=Object(Qe.c)((function(e){return e.articles.entities})),t=Object(Qe.b)(),n=Object(o.f)(),a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],l=c[1],u=Object(r.useState)(null),d=Object(s.a)(u,2),j=d[0],b=d[1],m=wt.a.orderBy(j||e,["date"],["desc"]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ke,{children:"\u0421\u0442\u0430\u0442\u044c\u0438"}),Object(N.jsx)(we.a,{sx:{marginBottom:"20px"},children:Object(N.jsx)(Ut,{searchArticle:i,setSearchArticle:l,articles:e,setFindArticleArr:b})}),Object(N.jsx)(zt.a,{container:!0,spacing:4,children:m.map((function(e){return Object(N.jsx)(zt.a,{item:!0,xs:12,md:4,children:Object(N.jsxs)(Vt.a,{sx:{height:"100%"},children:[Object(N.jsx)(Kt.a,{component:"img",height:"150px",image:e.img,alt:""}),Object(N.jsxs)(Mt.a,{sx:{p:0},children:[Object(N.jsx)(R.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.title}),Object(N.jsxs)(R.a,{variant:"body2",children:[Object(N.jsx)(Pt.a,{content:e.article.slice(0,59).replace(/<[^>]+>/g,"")}),"..."]})]}),Object(N.jsx)(Qt.a,{children:Object(N.jsx)(q.a,{size:"small",color:"primary",onClick:function(){return r=e.id,n.push("/articles/".concat(r)),void t(xt(r));var r},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})})]})},e.id)}))})]})},Ht={get:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.get("comments/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Gt=Object(Pe.c)({name:"comments",initialState:{entities:null,isLoading:!0,error:null},reducers:{commentsRequested:function(e){e.isLoading=!0},commentsReceived:function(e,t){e.entities=t.payload,e.isLoading=!1},commentsCreated:function(e,t){e.entities.push(t.payload.content)},commentDeleted:function(e,t){e.entities=e.entities.filter((function(e){return e.id!==t.payload}))}}}),Jt=Gt.reducer,Yt=Gt.actions,Xt=Yt.commentsRequested,Zt=Yt.commentsReceived,$t=Yt.commentsRequestFiled,en=Yt.commentsCreated,tn=Yt.commentDeleted,nn=Object(Pe.b)("comments/createCommentRequested"),rn=Object(Pe.b)("comments/createCommentFailed"),an=Object(Pe.b)("users/deleteCommentFailed"),cn=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("1) Loading comments...."),t(Xt()),e.prev=2,console.log("2) Loading comments...."),e.next=6,Ht.get();case 6:r=e.sent,a=r.content,console.log(a),t(Zt(a)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),t($t(e.t0.message)),Object(p.b)(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()},on=Jt;var sn=n(508),ln=Object(K.a)((function(e){return{taAddArticle:{background:"transparent",border:"1px solid rgb(90, 89, 89)",width:"100%",padding:"10px",fontSize:"17px",outline:"none",fontFamily:"inherit",marginTop:e.spacing(2)},errText:{color:"#eb4242"}}})),un=function(e){var t=e.label,n=e.name,r=(e.className,e.value),a=e.onChange,c=e.error,i=Object($.a)(e,["label","name","className","value","onChange","error"]),o=ln();return Object(N.jsxs)(we.a,{sx:{margin:"10px 0"},children:[Object(N.jsxs)("label",{htmlFor:n,children:[" ",t]}),Object(N.jsx)(we.a,Object(Z.a)(Object(Z.a)({component:"textarea",id:n,name:n,value:r,onChange:function(e){var t=e.target;a({name:t.name,value:t.value})},className:o.taAddArticle},i),{},{rows:"5"})),c&&Object(N.jsx)(we.a,{className:o.errText,component:"div",children:c})]})},dn=n(218),jn=n.n(dn),bn=Object(K.a)((function(e){return{root:{"& > :not(style)":{m:"auto",width:"100%"},display:"flex",flexDirection:"column"},divActions:{display:"flex",justifyContent:"center",padding:"10px"},errText:{color:"#eb4242"}}})),mn=function(){var e=E().currentUser,t=Object(Qe.c)((function(e){return e.articles.currentArticle}))[0].id,n=Object(r.useState)({commentText:""}),a=Object(s.a)(n,2),c=a[0],i=a[1],o=bn(),l=Object(r.useState)({}),u=Object(s.a)(l,2),b=u[0],m=u[1],f=Object(Qe.b)(),h=X.a().shape({commentText:X.c().required("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")});Object(r.useEffect)((function(){h.validate(c).then((function(){return m({})})).catch((function(e){return m(Object(Y.a)({},e.path,e.message))})),Object.keys(b).length}),[c]);var x=function(n){var r;n.preventDefault(),c.articleId=t,c.email=e,c.date=(new Date).toLocaleString(),c.id=Date.now(),f((r=c,function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(nn()),e.prev=1,e.next=4,Ge.put("comments/".concat(r.id),r);case 4:n=e.sent,a=n.data,t(en(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(rn(e.t0.message)),p.b.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),i((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{commentText:""})}))};return Object(N.jsxs)("form",{component:"form",className:o.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){return x(e)},children:[Object(N.jsx)(un,{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439:",id:"commentText",type:"text",name:"commentText",value:c.commentText,error:b.commentText,onChange:function(e){return be(i,e)},placeholder:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435...",onKeyDown:function(e){return me(e)}}),Object(N.jsx)("div",{className:o.divActions,children:Object(N.jsx)(pe.a,{type:"submit",variant:"contained",endIcon:Object(N.jsx)(jn.a,{}),children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})})]})},pn=Object(K.a)((function(e){return{blockComments:{marginTop:e.spacing(2),textAlign:"center",padding:"10px","& li":{listStyleType:"none",marginTop:e.spacing(2),textAlign:"left",padding:"5px"}},liBlock:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},dateComments:{fontSize:"12px",color:"grey"},emailComments:{fontSize:"16px"},textComments:{marginTop:e.spacing(1),fontStyle:"italic"},loginInvite:{marginTop:e.spacing(3)}}})),fn=function(e){var t=e.blog,n=function(e,t){console.log(e,t);var n=[];return e.forEach((function(e){Number(e.articleId)===Number(t)&&n.push(e)})),wt.a.orderBy(n,["date"],["desc"])}(Object(Qe.c)((function(e){return e.comments.entities})),t[0].id),r=E().currentUser,a=pn(),c=Object(Qe.b)();return Object(N.jsxs)("div",{className:a.blockComments,children:[(null===n||void 0===n?void 0:n.length)>0?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("p",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438:"}),Object(N.jsx)("ul",{children:n.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:a.liBlock,children:[Object(N.jsxs)("li",{children:[Object(N.jsxs)("p",{children:[Object(N.jsxs)("span",{className:a.dateComments,children:[e.date," "]}),Object(N.jsxs)("span",{className:a.emailComments,children:[e.email,", \u043f\u0438\u0448\u0435\u0442: "]})]}),Object(N.jsx)("p",{className:a.textComments,children:e.commentText})]}),"adminblog@test.ru"===r&&Object(N.jsx)(Te.a,{title:"Delete",children:Object(N.jsx)(ae.a,{children:Object(N.jsx)(Be.a,{onClick:function(){return c((t=e.id,function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.delete("articles/"+t);case 3:n(tn(t)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),an(e.t0.message),p.b.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));var t}})})})]}),Object(N.jsx)(sn.a,{})]},e.id)}))})]}):Object(N.jsx)("p",{children:"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043d\u0435\u0442"}),r?Object(N.jsx)(mn,{}):Object(N.jsxs)("div",{className:a.loginInvite,children:["\u0427\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c ",Object(N.jsx)(l.b,{to:"/auth/login",children:"\u041b\u043e\u0433\u0438\u043d"})]})]})},hn=Object(K.a)((function(e){return{root:{display:"flex",flexDirection:"column",position:"relative"},currentArticleBody:{padding:"25px",backgroundColor:"rgb(103 103 235)",boxShadow:"2px 3px 25px rgb(49, 49, 77)",color:"#fff",textIndent:"1.5em"},imgBlock:{maxWidth:"300px",maxHeight:"150px",overflow:"hidden",float:"left",marginTop:"4px",marginRight:e.spacing(2),marginLeft:"-20px"},img:{maxWidth:"100%"},btnBack:{marginTop:e.spacing(2),marginBottom:e.spacing(3)}}})),xn=function(e){var t=e.blog,n=hn(),r=Object(o.f)(),a=Object(Qe.b)();return Object(N.jsxs)("div",{className:n.root,children:[Object(N.jsx)(ke,{children:t[0].title}),Object(N.jsxs)("div",{className:n.currentArticleBody,children:[Object(N.jsx)("div",{className:n.imgBlock,children:Object(N.jsx)("img",{src:t[0].img,alt:"",className:n.img})}),t[0].article.split(" ~ ").map((function(e,t){return Object(N.jsx)(R.a,{variant:"body1",gutterBottom:!0,children:Object(N.jsx)(Pt.a,{content:e})},t)}))]}),Object(N.jsx)(fn,{blog:t}),Object(N.jsx)(q.a,{size:"medium",color:"primary",className:n.btnBack,onClick:function(){a(ft()),r.push("/articles")},children:"\u041d\u0430\u0437\u0430\u0434"})]})},On=function(){var e=Object(Qe.c)((function(e){return e.articles.currentArticle}));return Object(N.jsx)("div",{className:"articles",children:(null===e||void 0===e?void 0:e.length)>0?Object(N.jsx)(xn,{blog:e}):Object(N.jsx)(_t,{})})},gn=function(e){var t=e.auth,n=e.currentUser,r=e.component,a=Object($.a)(e,["auth","currentUser","component"]);return Object(N.jsx)(o.b,Object(Z.a)(Object(Z.a)({},a),{},{render:function(e){return t&&"adminblog@test.ru"===n?Object(N.jsx)(r,Object(Z.a)({},e)):t&&"adminblog@test.ru"===n?void 0:Object(N.jsx)(o.a,{to:"/auth/login"})}}))},vn=(n(396),n(397),n.p+"static/media/react_wires.428f9943.png"),kn=n.p+"static/media/react_hooks.ed1fe157.png",wn=n.p+"static/media/JavaScript.e05a9ec6.jpg",yn=(n.p,n.p,n.p,n.p,n.p,[{id:"67rdca3eeb7f6fgeed000001",img:vn,text:"React \u2014 JavaScript-\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432. React \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f Facebook, Instagram \u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e\u043c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0438 \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0446\u0438\u0439."},{id:"67rdca3eeb7f6fgeed000002",img:kn,text:"\u0425\u0443\u043a\u0438 \u2014 \u043d\u043e\u0432\u043e\u0432\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 React 16.8, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 React \u0431\u0435\u0437 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0441\u0441\u043e\u0432. \u0425\u0443\u043a\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 React \u0431\u0435\u0437 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0441\u0441\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432. "},{id:"67rdca3eeb7f6fgeed000003",img:wn,text:"JavaScript \u044f\u0437\u044b\u043a \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u0430\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442, \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0443\u043b\u044c\u0442\u0438\u043c\u0435\u0434\u0438\u0430, \u0430\u043d\u0438\u043c\u0438\u0440\u0443\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f. JavaScript \u2013 \u043e\u0434\u0438\u043d \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u044f\u0437\u044b\u043a\u043e\u0432 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043c\u0438\u0440\u0435."}]),An=Object(Pe.c)({name:"startInfo",initialState:{entities:null,isLoading:!1},reducers:{startInfoReceived:function(e,t){e.isLoading=!1,e.entities=t.payload}}}),Sn=An.reducer,Cn=An.actions.startInfoReceived,Nn=function(){return function(e){e(Cn(yn))}},In=Sn,Dn=Object(K.a)((function(e){return{title:{textAlign:"center"},blog:{backgroundColor:"#f2f5fd",padding:"20px",marginBottom:e.spacing(4),border:"1px solid #fff",borderRadius:"2px",boxShadow:"7px 9px 11px rgb(8, 8, 8)"},imgBlock:{maxWidth:"550px",margin:"0 auto",maxHeight:"300px",overflow:"hidden",p:2},img:{maxWidth:"100%"},text:{maxWidth:"550px",margin:"auto"}}})),En=function(){var e=Object(Qe.c)((function(e){return e.startInfo.entities})),t=Dn();return Object(N.jsxs)("div",{children:[Object(N.jsx)(ke,{children:"\u041e Frontend'\u0435..."}),null===e||void 0===e?void 0:e.map((function(e){return Object(N.jsxs)("div",{className:t.blog,children:[Object(N.jsx)("div",{className:t.imgBlock,children:Object(N.jsx)("img",{className:t.img,src:e.img,alt:""})}),Object(N.jsx)(R.a,{variant:"h6",gutterBottom:!0,component:"div",className:t.title,children:e.text.split(" ")[0]}),Object(N.jsx)(R.a,{variant:"subtitle1",gutterBottom:!0,component:"div",className:t.text,children:e.text})]},e.img)}))]})},Tn=n(480),Fn=n(219),Bn=n.n(Fn),Rn=Object(K.a)((function(e){return{root:{marginTop:e.spacing(3),backgroundColor:"rgb(62, 63, 64)",padding:"45px 10px",width:"100%",textAlign:"center",color:"white"},footerText:{fontSize:"18px",color:"inherit"}}})),Ln=function(){var e=Rn();return Object(N.jsx)("div",{className:e.root,children:Object(N.jsxs)("p",{className:e.footerText,children:["Copyright ",Object(N.jsx)(Bn.a,{sx:{fontSize:"15px"}})," \u0417\u0430\u043b\u0438\u043b\u043e\u0432 \u041a\u043e\u043d\u0441\u0442\u0430\u0442\u0438\u043d 2022"]})})},Un=function(e){var t=e.children,n=Object(Qe.c)((function(e){return e.articles.isLoading})),a=Object(Qe.b)(),c=Object(o.f)();function i(){return s.apply(this,arguments)}function s(){return(s=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/articles"!==location.pathname&&"/admin"!==location.pathname){e.next=8;break}return a(ft()),e.next=4,a(pt());case 4:return e.next=6,a(cn());case 6:e.next=18;break;case 8:if(-1===location.pathname.indexOf("/articles/")){e.next=17;break}return t=location.pathname.split("/"),e.next=12,a(pt());case 12:return e.next=14,a(cn());case 14:a(xt(t[2])),e.next=18;break;case 17:"/"===location.pathname?a(Nn()):"/auth/login"===location.pathname?(a(ht()),c.push("/auth/login")):"/auth/register"===location.pathname&&(c.push("/auth/register"),a(ht()));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){i()}),[]),Object(r.useEffect)((function(){i()}),[location.pathname]),"/"===location.pathname?t:n?Object(N.jsx)("div",{className:"loader-container",children:Object(N.jsx)(Oe,{})}):t},Wn=Object(K.a)((function(e){return{root:{maxWidth:"md",minHeight:"calc(100vh - 100px)"}}}));var qn=function(){var e=E(),t=e.isAuth,n=e.currentUser,r=Wn();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Un,{children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(J,{}),Object(N.jsxs)(Tn.a,{className:r.root,children:[Object(N.jsx)(o.b,{exact:!0,path:"/",component:En}),Object(N.jsx)(o.b,{path:"/articles/:articleId?",component:On}),Object(N.jsx)(o.b,{path:"/auth/:type?",component:Ae}),Object(N.jsx)(gn,{path:"/admin",component:qt,auth:t,currentUser:n})]}),Object(N.jsx)(Ln,{})]})}),Object(N.jsx)(p.a,{})]})},zn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,510)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Vn=n(54),Kn=Object(Vn.b)({articles:gt,startInfo:In,comments:on});var Mn=Object(Pe.a)({reducer:Kn});i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(Qe.a,{store:Mn,children:Object(N.jsx)(l.a,{children:Object(N.jsx)(T,{children:Object(N.jsx)(qn,{})})})})}),document.getElementById("root")),zn()}},[[398,1,2]]]);
//# sourceMappingURL=main.e0d7930f.chunk.js.map